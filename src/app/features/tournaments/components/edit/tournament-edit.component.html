<div class="tournament-edit">
  <header class="tournament-edit__header">
    <h1 class="tournament-edit__title">Edit Tournament</h1>
    @if (sport() && season()) {
      <div class="tournament-edit__context">
        <span>{{ sport()!.title }}</span>
        <span>â€º</span>
        <span>{{ season()!.year }}</span>
      </div>
    }
    <div class="tournament-edit__actions">
      <button tuiButton type="button" (click)="navigateBack()">Cancel</button>
      <button tuiButton type="submit" (click)="onSubmit()" [disabled]="tournamentForm.invalid">Save Changes</button>
    </div>
  </header>

  @if (loading()) {
    <div class="tournament-edit__loading">Loading tournament...</div>
  } @else if (tournament()) {
    <form [formGroup]="tournamentForm" class="tournament-edit__form">
      <div class="tournament-edit__field">
        <label for="title" class="tournament-edit__label">Title *</label>
        <input
          id="title"
          type="text"
          formControlName="title"
          class="tournament-edit__input"
          [class.tournament-edit__input--invalid]="titleControl?.invalid && titleControl?.touched"
        />
        @if (titleControl?.invalid && titleControl?.touched) {
          @if (titleControl?.errors?.['required']) {
            <div class="tournament-edit__error">Title is required</div>
          }
        }
      </div>

      <div class="tournament-edit__field">
        <label for="description" class="tournament-edit__label">Description</label>
        <textarea
          id="description"
          formControlName="description"
          class="tournament-edit__textarea"
          rows="4"
          placeholder="Enter a description for tournament (optional)"
        ></textarea>
      </div>
    </form>
  } @else {
    <div class="tournament-edit__not-found">Tournament not found</div>
  }
</div>
