@if (tournament(); as t) {
  <div class="tournament-detail">
    <app-entity-header
      [title]="t.title"
      [logoUrl]="tournamentLogoUrl()"
      (navigateBack)="navigateBack()"
      (edit)="navigateToEdit()"
      (delete)="deleteTournament()"
    />

    <div class="tournament-detail__subnav">
      <nav class="tournament-detail__tabs">
        <button
          class="tournament-detail__tab"
          [class.tournament-detail__tab--active]="activeTab() === 'matches'"
          (click)="onTabChange('matches')"
        >
          Matches
        </button>
        <button
          class="tournament-detail__tab"
          [class.tournament-detail__tab--active]="activeTab() === 'teams'"
          (click)="onTabChange('teams')"
        >
          Teams
        </button>
        <button
          class="tournament-detail__tab"
          [class.tournament-detail__tab--active]="activeTab() === 'players'"
          (click)="onTabChange('players')"
        >
          Players
        </button>
      </nav>
    </div>

    @if (activeTab() === 'matches') {
      <app-tournament-matches-tab
        [tournamentId]="tournamentId()!"
        [sportId]="sportId()!"
        [year]="year()"
      />
    } @else if (activeTab() === 'teams') {
      <app-tournament-teams-tab
        [tournamentId]="tournamentId()!"
        [sportId]="sportId()!"
        [selectedSeasonYear]="year()"
      />
    } @else if (activeTab() === 'players') {
      <app-tournament-players-tab
        [tournamentId]="tournamentId()!"
        [sportId]="sportId()!"
        [year]="year()"
      />
    }
  </div>
} @else {
  <div class="tournament-detail__not-found">Tournament not found</div>
}
