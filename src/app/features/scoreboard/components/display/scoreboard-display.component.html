<div class="scoreboard-container" [class]="displayClass()">
  <!-- Logos Row -->
  <div class="logos-row">
    @if (showMainSponsor() && sponsorLogoUrl()) {
      <div class="logo-box sponsor-logo">
        <img
          [src]="sponsorLogoUrl()"
          [style.transform]="'scale(' + sponsorLogoScale() + ')'"
          alt="Sponsor logo"
        />
      </div>
    }
    @if (showTournamentLogo() && tournamentLogoUrl()) {
      <div class="logo-box tournament-logo">
        <img
          [src]="tournamentLogoUrl()"
          [style.transform]="'scale(' + tournamentLogoScale() + ')'"
          alt="Tournament logo"
        />
      </div>
    }
  </div>

  <!-- Teams Row -->
  <div class="teams-row">
    <!-- Team A -->
    <div
      class="team-block team-a"
      [style.background-color]="teamAColor()"
      [style.--team-opacity]="'0.8'"
    >
      <div class="team-info">
        <div class="team-name-block">
          @if (showGoalTeamA()) {
            <div class="goal-indicator team-title-layer" [appAutoFitText]="true" [maxFontSize]="35" [@teamTitleSwap]="true">
              <span [@breathing]="goalAnimationState()">TOUCHDOWN</span>
            </div>
          } @else if (showTimeoutTeamA()) {
            <div class="timeout-indicator team-title-layer" [appAutoFitText]="true" [maxFontSize]="35" [@teamTitleSwap]="true">TIMEOUT</div>
          } @else {
            <span class="team-name team-title-layer" [appAutoFitText]="true" [maxFontSize]="32" [@teamTitleSwap]="true">{{ teamAName() }}</span>
          }
        </div>

        <div class="timeout-dots">
          @for (used of timeoutAIndicators(); track $index) {
            <span class="timeout-dot" [class.used]="used"></span>
          }
        </div>
      </div>

      <div class="team-logo">
        @if (teamALogo()) {
          <img
            [src]="teamALogo()"
            [style.transform]="'scale(' + teamALogoScale() + ')'"
            alt="Team A logo"
          />
        }
      </div>

      <div class="score-block" [@scoreChange]="scoreA()">
        <span class="score">{{ scoreA() }}</span>
      </div>
    </div>

    <!-- Team B -->
    <div
      class="team-block team-b"
      [style.background-color]="teamBColor()"
      [style.--team-opacity]="'0.8'"
    >
      <div class="team-info">
        <div class="team-name-block">
          @if (showGoalTeamB()) {
            <div class="goal-indicator team-title-layer" [appAutoFitText]="true" [maxFontSize]="35" [@teamTitleSwap]="true">
              <span [@breathing]="goalAnimationState()">TOUCHDOWN</span>
            </div>
          } @else if (showTimeoutTeamB()) {
            <div class="timeout-indicator team-title-layer" [appAutoFitText]="true" [maxFontSize]="35" [@teamTitleSwap]="true">TIMEOUT</div>
          } @else {
            <span class="team-name team-title-layer" [appAutoFitText]="true" [maxFontSize]="32" [@teamTitleSwap]="true">{{ teamBName() }}</span>
          }
        </div>

        <div class="timeout-dots">
          @for (used of timeoutBIndicators(); track $index) {
            <span class="timeout-dot" [class.used]="used"></span>
          }
        </div>
      </div>

      <div class="team-logo">
        @if (teamBLogo()) {
          <img
            [src]="teamBLogo()"
            [style.transform]="'scale(' + teamBLogoScale() + ')'"
            alt="Team B logo"
          />
        }
      </div>

      <div class="score-block" [@scoreChange]="scoreB()">
        <span class="score">{{ scoreB() }}</span>
      </div>
    </div>
  </div>

  <!-- Game Info Row -->
  <div class="game-info-row">
    @if (showQuarter()) {
      <div class="info-box quarter">
        <div class="info-value-swap">
          @for (q of [quarter()]; track q) {
            <span class="info-value info-value-layer" [@infoValueChange]="true">{{ q }}</span>
          }
        </div>
      </div>
    }

    @if (showTime()) {
      <div class="info-box game-clock">
        <span class="info-value">{{ gameClockDisplay() }}</span>
      </div>
    }

    <div
      class="info-box play-clock"
      [class.warning]="showPlayClock() && playClockWarning()"
      [class.play-clock-off]="!(showPlayClock() && playClock() !== null)"
    >
      @if (showPlayClock() && playClock() !== null) {
        <span class="info-value" [@infoValueChange]="true">{{ playClockDisplay() }}</span>
      }
    </div>

    @if (showDownDistance()) {
      <div class="info-box down-distance">
        @if (showFlag()) {
          <div class="flag-indicator" [@fadeInOut]="true">FLAG</div>
        } @else {
          <div class="info-value-swap">
            @for (dd of [downDistance()]; track dd) {
              <span
                class="info-value info-value-layer"
                [appAutoFitText]="true"
                [maxFontSize]="26"
                [minFontSize]="14"
                [containerPadding]="0"
                [@infoValueChange]="true"
              >{{ dd }}</span>
            }
          </div>
        }
      </div>
    }
  </div>

</div>
