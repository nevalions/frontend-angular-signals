<app-collapsible-section title="Display Settings" sectionKey="scoreboard-settings">
  <ng-template>
    <div class="settings-forms">
      <!-- Display Toggles Section -->
      <div class="settings-section">
        <h4 class="section-title">Display Elements</h4>
        <div class="toggles-grid">
          <label>
            <input
              tuiSwitch
              type="checkbox"
              [(ngModel)]="localShowQtr"
              (ngModelChange)="onToggleQtr($event)"
            />
            Quarter
          </label>

          <label>
            <input
              tuiSwitch
              type="checkbox"
              [(ngModel)]="localShowTime"
              (ngModelChange)="onToggleTime($event)"
            />
            Time
          </label>

          <label>
            <input
              tuiSwitch
              type="checkbox"
              [(ngModel)]="localShowPlayClock"
              (ngModelChange)="onTogglePlayClock($event)"
            />
            Play Clock
          </label>

          <label>
            <input
              tuiSwitch
              type="checkbox"
              [(ngModel)]="localShowDownDistance"
              (ngModelChange)="onToggleDownDistance($event)"
            />
            Down & Dist.
          </label>

          <label>
            <input
              tuiSwitch
              type="checkbox"
              [(ngModel)]="localShowTournamentLogo"
              (ngModelChange)="onToggleTournamentLogo($event)"
            />
            Tourn. Logo
          </label>

          <label>
            <input
              tuiSwitch
              type="checkbox"
              [(ngModel)]="localShowMainSponsor"
              (ngModelChange)="onToggleMainSponsor($event)"
            />
            Sponsor
          </label>
        </div>
      </div>

      <!-- Team Settings Section -->
      <div class="settings-section">
        <h4 class="section-title">Team Settings</h4>

        <div class="team-settings">
          <!-- Home Team Panel -->
          <div class="team-panel team-home">
            <div class="team-header">
              <span class="team-label">Home Team</span>
            </div>

            <div class="team-content">
              <div class="color-picker">
                <label>Game Color:</label>
                <input
                  type="color"
                  [value]="teamAColor()"
                  (change)="onTeamAColorChange($event)"
                />
              </div>

              <label>
                <input
                  tuiSwitch
                  type="checkbox"
                  [(ngModel)]="localUseTeamAColor"
                  (ngModelChange)="onToggleUseTeamAColor($event)"
                />
                Color
              </label>

              <label>
                <input
                  tuiSwitch
                  type="checkbox"
                  [(ngModel)]="localUseTeamATitle"
                  (ngModelChange)="onToggleUseTeamATitle($event)"
                />
                Title
              </label>

              <div class="title-input">
                <label>Game Title:</label>
                <input
                  type="text"
                  [value]="teamAGameTitle() ?? ''"
                  (change)="onTeamAGameTitleChange($event)"
                  placeholder="Enter game title"
                />
              </div>

              <label>
                <input
                  tuiSwitch
                  type="checkbox"
                  [(ngModel)]="localUseTeamALogo"
                  (ngModelChange)="onToggleUseTeamALogo($event)"
                />
                Logo
              </label>

              <div class="logo-upload">
                <label>Game Logo:</label>
                @if (!teamAGameLogo()) {
                  <input
                    type="file"
                    (change)="onTeamALogoFileSelected($event)"
                    accept="image/*"
                    class="logo-input-file"
                  />
                }
                @if (uploadingTeamALogo()) {
                  <div class="logo-uploading">Uploading...</div>
                }
                @if (teamAGameLogo()) {
                  <div class="logo-preview">
                    <img [src]="teamAGameLogo()" alt="Home team logo" />
                    <button
                      tuiButton
                      type="button"
                      appearance="destructive"
                      size="s"
                      (click)="removeTeamALogo()"
                    >
                      Remove
                    </button>
                  </div>
                }
              </div>

              <div class="logo-scale">
                <label>Logo Scale: {{ logoAScale() | number:'1.2-2' }}</label>
                <input
                  tuiSlider
                  type="range"
                  [min]="0.5"
                  [max]="2"
                  step="0.1"
                  [ngModel]="logoAScale()"
                  (ngModelChange)="onLogoAScaleChange($event)"
                />
              </div>
            </div>
          </div>

          <!-- Away Team Panel -->
          <div class="team-panel team-away">
            <div class="team-header">
              <span class="team-label">Away Team</span>
            </div>

            <div class="team-content">
              <div class="color-picker">
                <label>Game Color:</label>
                <input
                  type="color"
                  [value]="teamBColor()"
                  (change)="onTeamBColorChange($event)"
                />
              </div>

              <label>
                <input
                  tuiSwitch
                  type="checkbox"
                  [(ngModel)]="localUseTeamBColor"
                  (ngModelChange)="onToggleUseTeamBColor($event)"
                />
                Color
              </label>

              <label>
                <input
                  tuiSwitch
                  type="checkbox"
                  [(ngModel)]="localUseTeamBTitle"
                  (ngModelChange)="onToggleUseTeamBTitle($event)"
                />
                Title
              </label>

              <div class="title-input">
                <label>Game Title:</label>
                <input
                  type="text"
                  [value]="teamBGameTitle() ?? ''"
                  (change)="onTeamBGameTitleChange($event)"
                  placeholder="Enter game title"
                />
              </div>

              <label>
                <input
                  tuiSwitch
                  type="checkbox"
                  [(ngModel)]="localUseTeamBLogo"
                  (ngModelChange)="onToggleUseTeamBLogo($event)"
                />
                Logo
              </label>

              <div class="logo-upload">
                <label>Game Logo:</label>
                @if (!teamBGameLogo()) {
                  <input
                    type="file"
                    (change)="onTeamBLogoFileSelected($event)"
                    accept="image/*"
                    class="logo-input-file"
                  />
                }
                @if (uploadingTeamBLogo()) {
                  <div class="logo-uploading">Uploading...</div>
                }
                @if (teamBGameLogo()) {
                  <div class="logo-preview">
                    <img [src]="teamBGameLogo()" alt="Away team logo" />
                    <button
                      tuiButton
                      type="button"
                      appearance="destructive"
                      size="s"
                      (click)="removeTeamBLogo()"
                    >
                      Remove
                    </button>
                  </div>
                }
              </div>

              <div class="logo-scale">
                <label>Logo Scale: {{ logoBScale() | number:'1.2-2' }}</label>
                <input
                  tuiSlider
                  type="range"
                  [min]="0.5"
                  [max]="2"
                  step="0.1"
                  [ngModel]="logoBScale()"
                  (ngModelChange)="onLogoBScaleChange($event)"
                />
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Scale Settings Section -->
      <div class="settings-section">
        <h4 class="section-title">Scale Settings</h4>

        <div class="scale-controls">
          <div class="scale-control">
            <label>Tournament Logo Scale: {{ tournamentLogoScale() | number:'1.2-2' }}</label>
            <input
              tuiSlider
              type="range"
              [min]="0.5"
              [max]="2"
              step="0.1"
              [ngModel]="tournamentLogoScale()"
              (ngModelChange)="onTournamentLogoScaleChange($event)"
            />
          </div>

          <div class="scale-control">
            <label>Main Sponsor Scale: {{ mainSponsorScale() | number:'1.2-2' }}</label>
            <input
              tuiSlider
              type="range"
              [min]="0.5"
              [max]="2"
              step="0.1"
              [ngModel]="mainSponsorScale()"
              (ngModelChange)="onMainSponsorScaleChange($event)"
            />
          </div>
        </div>
      </div>
    </div>
  </ng-template>
</app-collapsible-section>
