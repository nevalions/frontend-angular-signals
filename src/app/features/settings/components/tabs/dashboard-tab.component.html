<div class="dashboard-tab">
  <h2 class="dashboard-tab__title">ğŸ“Š Dashboard Overview</h2>

  <div class="dashboard-tab__grid">
    <div tuiAppearance="floating" tuiCardLarge>
      <header tuiHeader>
        <h2 tuiTitle>ğŸ‘¥ Users Online</h2>
      </header>
      @if (usersOnlineLoading()) {
        <tui-loader [overlay]="true"></tui-loader>
      } @else if (usersOnlineError()) {
        <p class="dashboard-tab__error">{{ usersOnlineError() }}</p>
      } @else if (usersOnline().length === 0) {
        <p class="dashboard-tab__empty">No users online</p>
      } @else {
        @for (user of usersOnline(); track user.id) {
          <button tuiCell type="button">
            <tui-badge appearance="success" size="s">Online</tui-badge>
            <div tuiTitle>{{ user.username }}</div>
          </button>
        }
      }
      <footer>
        <button type="button" tuiButton appearance="secondary" size="s" (click)="navigateToUsersTab()">
          View All Users
        </button>
      </footer>
    </div>

    <div tuiAppearance="floating" tuiCardLarge>
      <header tuiHeader>
        <h2 tuiTitle>ğŸ‘¨â€ğŸ’¼ Admins Online</h2>
      </header>
      @if (adminsOnlineLoading()) {
        <tui-loader [overlay]="true"></tui-loader>
      } @else if (adminsOnlineError()) {
        <p class="dashboard-tab__error">{{ adminsOnlineError() }}</p>
      } @else if (adminsOnline().length === 0) {
        <p class="dashboard-tab__empty">No admins online</p>
      } @else {
        @for (admin of adminsOnline(); track admin.id) {
          <button tuiCell type="button">
            <tui-badge appearance="success" size="s">Online</tui-badge>
            <div tuiTitle>{{ admin.username }}</div>
          </button>
        }
      }
      <footer>
        <button type="button" tuiButton appearance="secondary" size="s" (click)="navigateToUsersTab()">
          View All Admins
        </button>
      </footer>
    </div>

    <div tuiAppearance="floating" tuiCardLarge>
      <header tuiHeader>
        <h2 tuiTitle>ğŸ†• Recently Registered Users</h2>
      </header>
      @if (recentlyRegisteredLoading()) {
        <tui-loader [overlay]="true"></tui-loader>
      } @else if (recentlyRegisteredError()) {
        <p class="dashboard-tab__error">{{ recentlyRegisteredError() }}</p>
      } @else if (recentlyRegistered().length === 0) {
        <p class="dashboard-tab__empty">No users found</p>
      } @else {
        @for (user of recentlyRegistered(); track user.id) {
          <button tuiCell type="button">
            <div tuiTitle>{{ user.username }}</div>
            <div tuiSubtitle>{{ formatJoinedDate(user.created) }}</div>
          </button>
        }
      }
      <footer>
        <button type="button" tuiButton appearance="secondary" size="s" (click)="navigateToUsersTab()">
          View All Users
        </button>
      </footer>
    </div>
  </div>
</div>
